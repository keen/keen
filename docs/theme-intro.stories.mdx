import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Docs/Theming" />

# Theming

Keen components could be customized in context of features and visual aspects.
The look of `chart` / `widget` is described with self descriptive `Theme` object that could be easily adjusted.

By default all of components use official `Keen` theme. You can create one generic theme for all charts or specify unique visual properties for each.

## Example

```typescript
const dataviz = new KeenDataviz({
  type: 'line',
  container: '#container',
  widget: {
    title: {
      content: 'Book purchases',
    },
    subtitle: {
      content: 'Most popular authors',
    },
  },
  settings: {
    barPadding: 0,
    margins: { top: 15, left: 0, right: 0, bottom: 30 },
    theme: {
      colors: ['#DBD56E', '#88AB75', '#2D93AD', '#2D93AD', '#DE8F6E'],
      axisX: { enabled: false },
      axisY: { enabled: false },
      gridY: { color: '#ddd' },
      gridX: { color: '#ddd' },
      tooltip: {
        mode: 'light',
        labels: { typography: { fontColor: '#2D93AD' } },
      },
    },
  },
});
```

# Charts API

## Theme
The `root` structure of theme object. The visual properties for specific plot features was placed inside `key` that refers to specific chart.

#### Generic properties
- `colors` list of colors that will be applied for data series.
- `axisX / axisY` visual aspects of chart axes.
- `gridX / gridY` visual aspects of cartesian grid.
- `tooltip` theme properties for tooltip.

```typescript
type Theme = {
  colors: string[];
  funnel: Funnel;
  choropleth: Choropleth;
  bar: Bar;
  metric: Metric;
  donut: Donut;
  pie: Pie;
  gauge: Gauge;
  table: Table;
  tooltip: Tooltip;
  axisX: Axis;
  axisY: Axis;
  gridX: Grid;
  gridY: Grid;
  labels: Labels;
};
```

## Axis

`Object` definition for styling **Axis** properties like for eg. labels, line colors and tick sizes.
Could be applied only to charts that uses cartesian coordinate system.

```typescript
type Axis = {
  enabled: boolean;
  tickSize: number;
  tickPadding: number;
  stroke: number;
  color: string;
  labels: Labels;
  title: AxisTitle;
};
```

## Grid

`Object` definition for styling **Grid** properties. Could be applied only to charts that uses cartesian coordinate system.

```typescript
type Grid = {
  enabled: boolean;
  color: string;
};
```

## Tooltip

`Object` definition for styling **Tooltip** properties. Support two modes `light` and `dark` - for reference check `<Tooltip />` component [documentation](/?path=/docs/components-tooltip--bullet-points).
Each of charts could contain a different tooltip content.

```typescript
type Tooltip = {
  enabled: boolean;
  mode: 'light' | 'dark';
  labels: {
    typography: Typography;
  };
};
```

## Labels

Generic `object` for styling charts labels.

```typescript
type Labels = {
  enabled: boolean;
  typography: Typography;
  radiusAngle: number;
};
```

## AxisTitle

Generic `object` for styling axis title.

```typescript
type AxisTitle = {
  alignment: 'top' | 'bottom' | 'left' | 'right' | 'center';
  typography: Typography;
};
```

## Typography

Generic `object` for styling all text aspects like font size, color, weight etc.

```typescript
type Typography = {
  fontStyle: 'normal' | 'italic';
  fontWeight: 'normal' | 'bold';
  fontSize: number;
  fontColor: string;
  fontFamily: string;
  lineHeight: string;
};
```

## Icon

The `object` used to describe icon properties. For reference check the `<Icon />` component [documentation](/?path=/docs/components-icons--page).

```typescript
type Icon = {
  color: string;
  type: IconType;
};

type IconType =
  | 'arrow-up'
  | 'arrow-down'
  | 'caret-down'
  | 'caret-up'
  | 'caret-left'
  | 'caret-right'
  | 'brand'
  | 'question-mark'
  | 'cursor-solid'
  | 'cursor-outline'
  | 'click-solid'
  | 'click-outline'
  | 'eye-solid'
  | 'eye-outline'
  | 'user-solid'
  | 'user-outline'
  | 'users-solid'
  | 'users-outline';
```

## Funnel

`Object` used to describe `funnel` chart theme.

```typescript
type Variant = "black" | "red" | "white" | "purple" | "orange" | "yellow" | "green" | "gray" | "pink" | "lightBlue" | "blue";

type Funnel = {
  header: {
    value: {
      enabled: boolean;
      typography: Typography;
    };
    title: {
      typography: Typography;
    };
    badge: {
      enabled: boolean;
      typography: Typography;
      variant: Variant;
    };
    backgroundColor: string;
  };
  step: {
    backgroundColor: string;
  };
};
```

## Metric

`Object` used to describe `metric` chart theme.

```typescript
type Metric = {
  value: {
    typography: Typography;
  };
  caption: {
    typography: Typography;
  };
  excerpt: {
    icons: {
      increase: Icon;
      decrease: Icon;
    };
    backgroundColor: string;
    typography: Typography;
  };
  icon?: {
    enabled: boolean;
    position: 'top' | 'center' | 'bottom';
    margins: Margins;
    style: 'solid' | 'regular';
    type: IconType;
  };
};
```

## Table

`Object` used to describe `table` chart theme.

```typescript
type Table = {
  header: {
    typography: Typography;
  };
  body: {
    typography: Typography;
  };
};
```

## Gauge

`Object` used to describe `gauge` chart theme.

```typescript
type Gauge = {
  labels: {
    enabled: boolean;
    typography: Typography;
  };
  border: {
    backgroundColor: string;
  };
  total: {
    enabled: boolean;
    typography: Typography;
  };
};
```

## Pie

`Object` used to describe `pie` chart theme.

```typescript
type Pie = {
  labels: {
    enabled: boolean;
    typography: Typography;
  };
};
```

## Donut

`Object` used to describe `donut` chart theme.

```typescript
type Donut = {
  labels: {
    enabled: boolean;
    typography: Typography;
  };
  total: {
    enabled: boolean;
    label: {
      typography: Typography;
    };
    value: {
      typography: Typography;
    };
  };
};
```

## Choropleth

`Object` used to describe `choropleth` chart theme.

```typescript
type Choropleth = {
  map: {
    stroke: string;
  };
  graticule: Grid;
  sphere: {
    enabled: boolean;
    backgroundColor: string;
  };
};
```
